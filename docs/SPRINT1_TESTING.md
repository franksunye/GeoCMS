# Sprint 1 æµ‹è¯•æŒ‡å— - Agentå·¥ä½œå°

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•æµ‹è¯•Sprint 1å®ç°çš„Agentå·¥ä½œå°åŠŸèƒ½ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
# æˆ–
.\venv\Scripts\activate  # Windows

# å¯åŠ¨FastAPIæœåŠ¡å™¨
uvicorn app.main:app --reload --port 8000
```

åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:8000`

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend-nextjs

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:3000`

### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿ `frontend-nextjs/.env.local` æ–‡ä»¶åŒ…å«ï¼š

```env
BACKEND_URL=http://localhost:8000
```

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1: æŸ¥çœ‹Agentå·¥ä½œå°æ‘˜è¦

**ç›®æ ‡**: åœ¨æ¦‚è§ˆé¡µé¢æŸ¥çœ‹æ´»è·ƒä»»åŠ¡æ‘˜è¦

**æ­¥éª¤**:
1. è®¿é—® `http://localhost:3000/dashboard`
2. æŸ¥çœ‹"Agentå·¥ä½œå°"åŒºåŸŸ

**é¢„æœŸç»“æœ**:
- å¦‚æœæœ‰æ´»è·ƒä»»åŠ¡ï¼Œæ˜¾ç¤ºå‰5ä¸ªä»»åŠ¡å¡ç‰‡
- æ¯ä¸ªå¡ç‰‡æ˜¾ç¤ºï¼š
  - ä»»åŠ¡åç§°ï¼ˆuser_intentï¼‰
  - åˆ›å»ºæ—¶é—´
  - è¿è¡ŒçŠ¶æ€å¾½ç« 
  - è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”
  - å½“å‰æ‰§è¡Œçš„Agentå’Œä»»åŠ¡
- åº•éƒ¨æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼ˆæ´»è·ƒ/å®Œæˆ/å¤±è´¥æ•°é‡ï¼‰
- å¦‚æœæ²¡æœ‰æ´»è·ƒä»»åŠ¡ï¼Œæ˜¾ç¤ºç©ºçŠ¶æ€æç¤º

**éªŒè¯ç‚¹**:
- âœ… æ¯3ç§’è‡ªåŠ¨åˆ·æ–°
- âœ… è¿›åº¦æ¡åŠ¨ç”»æµç•…
- âœ… çŠ¶æ€å¾½ç« é¢œè‰²æ­£ç¡®ï¼ˆç»¿è‰²=è¿è¡Œä¸­ï¼‰
- âœ… "æŸ¥çœ‹å…¨éƒ¨"é“¾æ¥å¯ç‚¹å‡»

### åœºæ™¯2: è®¿é—®ä»»åŠ¡ç›‘æ§é¡µé¢

**ç›®æ ‡**: æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯

**æ­¥éª¤**:
1. ç‚¹å‡»å¯¼èˆªæ çš„"ä»»åŠ¡ç›‘æ§"
2. æˆ–ç‚¹å‡»æ¦‚è§ˆé¡µ"Agentå·¥ä½œå°"çš„"æŸ¥çœ‹å…¨éƒ¨"é“¾æ¥

**é¢„æœŸç»“æœ**:
- é¡µé¢æ ‡é¢˜æ˜¾ç¤º"ä»»åŠ¡ç›‘æ§"
- é¡¶éƒ¨æ˜¾ç¤º4ä¸ªç»Ÿè®¡å¡ç‰‡ï¼ˆæ€»ä»»åŠ¡/æ´»è·ƒ/å·²å®Œæˆ/å¤±è´¥ï¼‰
- ç­›é€‰æ ‡ç­¾é¡µï¼ˆå…¨éƒ¨/æ´»è·ƒ/å·²å®Œæˆ/å¤±è´¥ï¼‰
- ä»»åŠ¡åˆ—è¡¨æŒ‰åˆ›å»ºæ—¶é—´å€’åºæ’åˆ—

**éªŒè¯ç‚¹**:
- âœ… ç»Ÿè®¡æ•°å­—æ­£ç¡®
- âœ… æ¯3ç§’è‡ªåŠ¨åˆ·æ–°
- âœ… ç­›é€‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

### åœºæ™¯3: æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…

**ç›®æ ‡**: å±•å¼€ä»»åŠ¡æŸ¥çœ‹æ—¶é—´çº¿

**æ­¥éª¤**:
1. åœ¨ä»»åŠ¡ç›‘æ§é¡µé¢ï¼Œç‚¹å‡»ä»»æ„ä»»åŠ¡å¡ç‰‡
2. æŸ¥çœ‹å±•å¼€çš„ä»»åŠ¡æ—¶é—´çº¿

**é¢„æœŸç»“æœ**:
- ä»»åŠ¡å¡ç‰‡å±•å¼€ï¼Œæ˜¾ç¤º"ä»»åŠ¡æ—¶é—´çº¿"
- åˆ—å‡ºæ‰€æœ‰å­ä»»åŠ¡ï¼ŒæŒ‰æ—¶é—´é¡ºåº
- æ¯ä¸ªå­ä»»åŠ¡æ˜¾ç¤ºï¼š
  - çŠ¶æ€å›¾æ ‡ï¼ˆâœ…å®Œæˆ/ğŸ”„è¿è¡Œä¸­/âŒå¤±è´¥ï¼‰
  - ä»»åŠ¡ç±»å‹ï¼ˆè¯¢é—®ä¿¡æ¯/ç”Ÿæˆå†…å®¹/æ ¡éªŒå†…å®¹ï¼‰
  - çŠ¶æ€å¾½ç« 
  - åˆ›å»ºæ—¶é—´
  - ä»»åŠ¡ç»“æœï¼ˆå¦‚æœæœ‰ï¼‰

**éªŒè¯ç‚¹**:
- âœ… å±•å¼€/æŠ˜å åŠ¨ç”»æµç•…
- âœ… ä»»åŠ¡çŠ¶æ€å›¾æ ‡æ­£ç¡®
- âœ… æ—¶é—´æ˜¾ç¤ºæ ¼å¼æ­£ç¡®

### åœºæ™¯4: çŠ¶æ€ç­›é€‰

**ç›®æ ‡**: æµ‹è¯•ä¸åŒçŠ¶æ€çš„ç­›é€‰

**æ­¥éª¤**:
1. åœ¨ä»»åŠ¡ç›‘æ§é¡µé¢ï¼Œç‚¹å‡»"æ´»è·ƒ"æ ‡ç­¾
2. éªŒè¯åªæ˜¾ç¤ºæ´»è·ƒä»»åŠ¡
3. ç‚¹å‡»"å·²å®Œæˆ"æ ‡ç­¾
4. éªŒè¯åªæ˜¾ç¤ºå·²å®Œæˆä»»åŠ¡
5. ç‚¹å‡»"å¤±è´¥"æ ‡ç­¾
6. éªŒè¯åªæ˜¾ç¤ºå¤±è´¥ä»»åŠ¡

**é¢„æœŸç»“æœ**:
- ç­›é€‰ç«‹å³ç”Ÿæ•ˆ
- æ˜¾ç¤ºçš„ä»»åŠ¡æ•°é‡ä¸æ ‡ç­¾ä¸Šçš„æ•°å­—ä¸€è‡´
- ç©ºçŠ¶æ€æ—¶æ˜¾ç¤ºå‹å¥½æç¤º

**éªŒè¯ç‚¹**:
- âœ… ç­›é€‰é€»è¾‘æ­£ç¡®
- âœ… URLå‚æ•°æ›´æ–°
- âœ… ç©ºçŠ¶æ€æç¤ºæ¸…æ™°

### åœºæ™¯5: å¯¼èˆªæ å¾½ç« 

**ç›®æ ‡**: éªŒè¯æ´»è·ƒä»»åŠ¡æ•°é‡å¾½ç« 

**æ­¥éª¤**:
1. æŸ¥çœ‹å¯¼èˆªæ çš„"ä»»åŠ¡ç›‘æ§"é¡¹
2. å¦‚æœæœ‰æ´»è·ƒä»»åŠ¡ï¼Œåº”è¯¥æ˜¾ç¤ºçº¢è‰²å¾½ç« 

**é¢„æœŸç»“æœ**:
- å¾½ç« æ˜¾ç¤ºæ´»è·ƒä»»åŠ¡æ•°é‡
- å¾½ç« é¢œè‰²ä¸ºçº¢è‰²
- æ¯5ç§’è‡ªåŠ¨æ›´æ–°

**éªŒè¯ç‚¹**:
- âœ… å¾½ç« æ•°å­—æ­£ç¡®
- âœ… è‡ªåŠ¨æ›´æ–°
- âœ… æ²¡æœ‰æ´»è·ƒä»»åŠ¡æ—¶ä¸æ˜¾ç¤ºå¾½ç« 

---

## ğŸ”§ åˆ›å»ºæµ‹è¯•æ•°æ®

ç”±äºå½“å‰ç³»ç»Ÿå¯èƒ½æ²¡æœ‰æ´»è·ƒçš„Agentä»»åŠ¡ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºæµ‹è¯•æ•°æ®ï¼š

### æ–¹æ³•1: ä½¿ç”¨AI Native API

```bash
# åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è¯
curl -X POST http://localhost:8000/api/ai-native/conversations \
  -H "Content-Type: application/json" \
  -d '{"user_intent": "åˆ›å»ºä¸€ä¸ªä¼ä¸šç½‘ç«™"}'
```

### æ–¹æ³•2: ç›´æ¥æ’å…¥æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

```python
# åœ¨Python shellä¸­æ‰§è¡Œ
from app.db import SessionLocal
from app.services.state_manager import get_state_manager

db = SessionLocal()
state_manager = get_state_manager(db)

# åˆ›å»ºæµ‹è¯•è¿è¡Œ
run = state_manager.create_run(
    user_intent="æµ‹è¯•ä»»åŠ¡ï¼šåˆ›å»ºä¼ä¸šç½‘ç«™",
    initial_state={
        "site_type": "ä¼ä¸šå®˜ç½‘",
        "brand_name": "æµ‹è¯•å…¬å¸",
        "target_audience": "ä¼ä¸šå®¢æˆ·",
        "content_goals": ["å“ç‰Œå±•ç¤º", "äº§å“ä»‹ç»"],
        "pages": [],
        "current_page": None,
        "knowledge_context": {}
    }
)

print(f"åˆ›å»ºäº†æµ‹è¯•è¿è¡Œï¼ŒID: {run.id}")
db.close()
```

### æ–¹æ³•3: ä½¿ç”¨Streamlitå‰ç«¯

```bash
# å¯åŠ¨Streamlitåº”ç”¨
streamlit run frontend/streamlit_app.py
```

ç„¶ååœ¨Streamlitç•Œé¢ä¸­åˆ›å»ºå¯¹è¯ï¼Œè¿™ä¼šè‡ªåŠ¨åˆ›å»ºPlannerRunså’ŒTasksã€‚

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1: å‰ç«¯æ˜¾ç¤º"åŠ è½½ä¸­..."ä½†æ²¡æœ‰æ•°æ®

**åŸå› **: åç«¯æœåŠ¡æœªå¯åŠ¨æˆ–è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`curl http://localhost:8000/api/agent/runs`
2. æ£€æŸ¥ç¯å¢ƒå˜é‡ `BACKEND_URL` æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

### é—®é¢˜2: æ˜¾ç¤º"æ²¡æœ‰æ‰¾åˆ°ä»»åŠ¡"

**åŸå› **: æ•°æ®åº“ä¸­æ²¡æœ‰PlannerRunsæ•°æ®

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨ä¸Šè¿°æ–¹æ³•åˆ›å»ºæµ‹è¯•æ•°æ®
2. æˆ–è€…è¿è¡Œä¸€æ¬¡AI Nativeå¯¹è¯æµç¨‹

### é—®é¢˜3: è‡ªåŠ¨åˆ·æ–°ä¸å·¥ä½œ

**åŸå› **: React Queryé…ç½®é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. ç¡®è®¤React Query Providerå·²æ­£ç¡®é…ç½®
3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æ­£å¸¸ï¼ˆå¼€å‘è€…å·¥å…· > Networkï¼‰

### é—®é¢˜4: è¿›åº¦æ¡æ˜¾ç¤º0%

**åŸå› **: StateManagerçš„è¿›åº¦è®¡ç®—ä¾èµ–æ§½ä½å¡«å……

**è§£å†³æ–¹æ¡ˆ**:
1. è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœæ§½ä½è¿˜æ²¡æœ‰å¡«å……
2. é€šè¿‡AI Native APIæä¾›ç”¨æˆ·è¾“å…¥æ¥å¡«å……æ§½ä½
3. è¿›åº¦ä¼šéšç€æ§½ä½å¡«å……è‡ªåŠ¨æ›´æ–°

---

## ğŸ“Š APIæµ‹è¯•

### æµ‹è¯•åç«¯API

```bash
# 1. è·å–æ‰€æœ‰è¿è¡Œ
curl http://localhost:8000/api/agent/runs

# 2. è·å–æ´»è·ƒè¿è¡Œ
curl http://localhost:8000/api/agent/runs?status=active

# 3. è·å–å•ä¸ªè¿è¡Œè¯¦æƒ…
curl http://localhost:8000/api/agent/runs/1?include_tasks=true

# 4. è·å–è¿è¡Œçš„ä»»åŠ¡
curl http://localhost:8000/api/agent/runs/1/tasks

# 5. è·å–ç»Ÿè®¡ä¿¡æ¯
curl http://localhost:8000/api/agent/stats

# 6. æ›´æ–°è¿è¡ŒçŠ¶æ€
curl -X PATCH http://localhost:8000/api/agent/runs/1?status=completed
```

### æµ‹è¯•å‰ç«¯API Routes

```bash
# 1. è·å–æ‰€æœ‰è¿è¡Œ
curl http://localhost:3000/api/agent/runs

# 2. è·å–æ´»è·ƒè¿è¡Œ
curl http://localhost:3000/api/agent/runs?status=active

# 3. è·å–å•ä¸ªè¿è¡Œè¯¦æƒ…
curl http://localhost:3000/api/agent/runs/1

# 4. è·å–ç»Ÿè®¡ä¿¡æ¯
curl http://localhost:3000/api/agent/stats
```

---

## âœ… éªŒæ”¶æ ‡å‡†

Sprint 1çš„åŠŸèƒ½åº”æ»¡è¶³ä»¥ä¸‹æ ‡å‡†ï¼š

### åŠŸèƒ½æ€§
- âœ… èƒ½å¤Ÿæ˜¾ç¤ºæ‰€æœ‰è¿è¡Œåˆ—è¡¨
- âœ… èƒ½å¤ŸæŒ‰çŠ¶æ€ç­›é€‰è¿è¡Œ
- âœ… èƒ½å¤ŸæŸ¥çœ‹å•ä¸ªè¿è¡Œçš„è¯¦ç»†ä¿¡æ¯
- âœ… èƒ½å¤ŸæŸ¥çœ‹ä»»åŠ¡æ—¶é—´çº¿
- âœ… è¿›åº¦æ¡æ­£ç¡®æ˜¾ç¤º
- âœ… å®æ—¶è‡ªåŠ¨åˆ·æ–°

### æ€§èƒ½
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 2ç§’
- âœ… APIå“åº”æ—¶é—´ < 500ms
- âœ… è‡ªåŠ¨åˆ·æ–°ä¸å½±å“ç”¨æˆ·æ“ä½œ

### ç”¨æˆ·ä½“éªŒ
- âœ… ç•Œé¢æ¸…æ™°ç›´è§‚
- âœ… çŠ¶æ€å˜åŒ–æœ‰è§†è§‰åé¦ˆ
- âœ… ç©ºçŠ¶æ€æœ‰å‹å¥½æç¤º
- âœ… åŠ è½½çŠ¶æ€æœ‰æŒ‡ç¤ºå™¨
- âœ… å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰

### ä»£ç è´¨é‡
- âœ… TypeScriptç±»å‹å®Œæ•´
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… ä»£ç æ³¨é‡Šæ¸…æ™°
- âœ… éµå¾ªé¡¹ç›®è§„èŒƒ

---

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

æµ‹è¯•å®Œæˆåï¼Œè¯·å¡«å†™ä»¥ä¸‹æŠ¥å‘Šï¼š

```markdown
## Sprint 1 æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: YYYY-MM-DD
**æµ‹è¯•äººå‘˜**: [å§“å]
**ç¯å¢ƒ**: å¼€å‘ç¯å¢ƒ

### æµ‹è¯•ç»“æœ

| åœºæ™¯ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| åœºæ™¯1: Agentå·¥ä½œå°æ‘˜è¦ | âœ…/âŒ | |
| åœºæ™¯2: ä»»åŠ¡ç›‘æ§é¡µé¢ | âœ…/âŒ | |
| åœºæ™¯3: ä»»åŠ¡è¯¦æƒ… | âœ…/âŒ | |
| åœºæ™¯4: çŠ¶æ€ç­›é€‰ | âœ…/âŒ | |
| åœºæ™¯5: å¯¼èˆªæ å¾½ç«  | âœ…/âŒ | |

### å‘ç°çš„é—®é¢˜

1. [é—®é¢˜æè¿°]
   - ä¸¥é‡ç¨‹åº¦: é«˜/ä¸­/ä½
   - å¤ç°æ­¥éª¤: ...
   - é¢„æœŸç»“æœ: ...
   - å®é™…ç»“æœ: ...

### æ”¹è¿›å»ºè®®

1. [å»ºè®®å†…å®¹]

### æ€»ä½“è¯„ä»·

[å¯¹Sprint 1åŠŸèƒ½çš„æ€»ä½“è¯„ä»·]
```

---

**æœ€åæ›´æ–°**: 2025-01-23  
**ç»´æŠ¤è€…**: GeoCMS Team

